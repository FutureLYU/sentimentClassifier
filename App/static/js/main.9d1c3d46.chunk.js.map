{"version":3,"sources":["components/views/homePage/HomePage.js","components/views/ModelPage/ModelPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/NavBar.js","components/App.js","index.js"],"names":["Title","Typography","Paragraph","Text","Link","HomePage","style","height","width","maxWidth","margin","color","level","code","href","target","TextArea","Input","ModelPage","useState","textcontext","setcontext","visible","setVisible","confirmLoading","setConfirmLoading","prediction","setprediction","proba","setproba","submitloading","setsubmitloading","updateloading","setupdateloading","info","s","message","rows","value","onChange","event","showCount","title","onCancel","footer","type","loading","onClick","console","log","axios","post","review","sentiment","then","response","data","success","catch","e","marginTop","size","get","params","result","probability","msg","float","LeftMenu","props","mode","Item","NavBar","className","position","zIndex","placement","closable","onClose","App","fallback","paddingTop","minHeight","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9d1c3d46.chunk.js","sourcesContent":["import React from 'react'\nimport { Typography, Divider } from 'antd';\nconst { Title, Paragraph, Text, Link } = Typography;\n\nfunction HomePage() {\n    return (\n        <div style = {{height : \"100%\", width : \"70%\", maxWidth : \"60rem\",\n            margin: \"10rem auto\", color : \"blue\"}}>\n            <Typography>\n                <Title>Movie Review Sentiment Classifier</Title>\n                <Title level={4}>Author : Hanxi Lyu</Title>\n                <Divider/>\n                <Title level={2}>Introduction</Title>\n                <Paragraph>\n                    The project is based on the ISE 590 directed research of University of Southern California.\n                    This is a full-stack website with machine learning model embeded in the Flask backend service. \n                    It can be used to classify whether the sentiment of a movie review is postive or negtive.\n                    The website can collect real time data from the user submission and update the backend model.\n                    The structure of the project is built on <Text code>React</Text> and <Text code>Flask</Text>. \n                    The template of this project can be used to make fast deployment with new machine learning models.\n                    All the codes are public in my <Link href=\"https://github.com/FutureLYU/sentimentClassifier\" target=\"_blank\">github</Link> webiste.\n\n                </Paragraph>\n                \n                <Title level={2}>Guidelines and Resources</Title>\n                <Paragraph>\n                    The topics involved in this project include the following:\n                </Paragraph>\n\n                <Paragraph>\n                <ul>\n                    <li>\n                    Cleaning and preparing text data\n                    </li>\n                    <li>\n                    Building feature vectors from text documents\n                    </li>\n                    <li>\n                    Training a machine learning model to classify positive and negative movie reviews\n                    </li>\n                    <li>\n                        build front end features with react and antd\n                    </li>\n                    <li>\n                        build backend service with Flask\n                    </li>\n                    <li>\n                        deploy the whole website to public web server\n                    </li>\n                </ul>\n                </Paragraph>\n\n                <Paragraph>\n                    We use the tokenizer from <Text code>NLTK</Text> to split text document and \n                    transfer it into vector features by <Text code>HashingVectorizer</Text> from <Text code>scikit-learn</Text>.\n                    For model part, we use <Text code>SGDClassifier</Text> to implement online training. \n                    The Flask backend service is composed by database models, routers and ML service. \n                    And sqlite is chose as the backend database because of its convinience. \n                    For front end part, <Text code>antd</Text> and <Text code>axios</Text> are used to handle http request and UI. \n                    After finishing all the tasks above, the website is deployed on pythonanywhere.\n\n                </Paragraph>\n                <Paragraph>\n                    <Link href=\"./model\">have a try now</Link>\n                </Paragraph>\n                <Title level={2}>\n                    About Author\n                </Title>\n                <Paragraph>\n                A graduate student at University of Southern California,\n                 pursuing a Master's degree in Analytics in the school of Viterbi Engineering. \n                Solid engineer with 3 years of project experience in various fields,\n                 including web development and machine learning. Strong knowledge and programming skills in Java, Python,\n                  SQL, and JavaScript. Familiar with popular frameworks (Java Spring, React, Flask, etc.)\n                   and cloud platforms including Google Cloud, AWS.\n                   <br/> <br/>\n                   contact : hanxilyu@gmail.com \n                   <br/>\n                   <Link href=\"https://www.linkedin.com/in/hanxi-lyu-200602193/\" target=\"_blank\">LinkedIn</Link>\n                   <br/><br/><br/>                                                                                \n                </Paragraph>\n                \n            </Typography>\n        </div>\n    )\n}\n\nexport default HomePage","import React, {useState} from 'react';\nimport { Input, Button, Modal, message} from 'antd';\nimport axios from 'axios';\nconst { TextArea } = Input;\n\nfunction ModelPage() {\n\n    const initalexample = \"example : The movie, Hidden Figures (2016),\\\n not only serves as an item of good entertainment, but is also admirable in depicting the scientific changes in the USA in the 1960s,\\\n the social life issues of that era, and differences that existed in the country, especially among African-Americans.\\\n The movie centers around the lives of three women: Katherine Johnson, who is recreated by movie star Taraji P. Henson; Mary Jackson,\\\n who is played by Janelle Monáe; and finally, Dorothy Vaughan, as the mathematician portrayed by Octavia Spencer. Essentially,\\\n all three women of African-American backgrounds,\\\n they play vital roles in society through their contributions while working at NASA towards the successful launch of a spaceship into orbit.\"\n    \n    const [textcontext, setcontext] = useState(initalexample);\n    const [visible, setVisible] = useState(false);\n    const [confirmLoading, setConfirmLoading] = useState(false);\n    const [prediction, setprediction] = useState(\"unknown\");\n    const [proba, setproba] = useState(0);\n    const [submitloading, setsubmitloading] = useState(false);\n    const [updateloading, setupdateloading] = useState(false);\n    const info = (s) => {\n        message.info(s);\n      };\n\n    const handleSubmit = () => {\n        setsubmitloading(true);\n        axios.get('/api/predict', {\n            params: {\n              data : textcontext\n            }\n          }).then((response) => {\n            if (response.data.success) {\n                console.log(response);\n                setsubmitloading(false);\n                setprediction(response.data.result.prediction);\n                setproba(response.data.result.probability);\n                setVisible(true);    \n            }\n            else {\n                info(response.data.msg);\n            }\n        }).catch((e) => {\n            console.log(e);\n        })\n    }\n\n    const handleChange = (event) => {\n        setcontext(event.target.value);\n    }\n\n    const handleCorrect = () => {\n        setConfirmLoading(true);\n        axios.post('/api/review', \n            {\n                review : textcontext,\n                sentiment : 1\n            }\n        ).then((response) => {\n            if (response.data.success) {\n                setVisible(false);\n                setConfirmLoading(false);\n                info(\"new review saved\");\n            }\n            else {\n                setVisible(false);\n                setConfirmLoading(false);\n                info(\"fail to save this review\");\n            }\n        }).catch((e) => {\n            console.log(e);\n        })\n      };\n    \n      const handleWrong = () => {\n        console.log('Clicked cancel button');\n        setVisible(false);\n      };\n\n      const handleCancel = () => {\n          setConfirmLoading(false);\n          setVisible(false);\n      }\n\n      const handleUpdate = () => {\n          setupdateloading(true);\n          axios.get('/api/update').then((response) => {\n            info(response.data.msg);\n            setupdateloading(false);\n          }).catch((e) => {\n              console.log(e);\n          })\n      }\n\n    return (\n        <div style = {{height : \"100%\", width : \"70%\", maxWidth : \"40rem\",\n            margin: \"10rem auto\"}}>\n            <TextArea rows={10} value={textcontext} onChange={handleChange} showCount = {true}/>\n            <Modal\n                title=\"Movie Review Sentiment Classifier\"\n                visible={visible}\n                confirmLoading={confirmLoading}\n                onCancel={handleCancel}\n                footer={[\n                    <Button key=\"wrong\" type = \"danger\" loading={confirmLoading} onClick={handleWrong}>\n                      wrong\n                    </Button>,\n                    <Button key=\"correct\" type=\"primary\" loading={confirmLoading} onClick={handleCorrect}>\n                      correct\n                    </Button>,\n                  ]}\n            >\n                <p>prediction : {prediction}</p>\n                <p>probability : {proba}</p>\n            </Modal>\n            <div style = {{marginTop : \"3rem\"}}>\n                <Button size=\"large\" type = \"primary\" loading={submitloading} onClick = {handleSubmit}>predict</Button>\n                <Button size=\"large\" type = \"default\" loading={updateloading} style = {{float : \"right\"}} onClick = {handleUpdate}>update</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default ModelPage;\n","import React from 'react';\nimport { Menu } from 'antd';\n\nfunction LeftMenu(props) {\n  return (\n    <Menu mode={props.mode}>\n      <Menu.Item key=\"introduction\">\n        <a href=\"/\">Introduction</a>\n      </Menu.Item>\n      <Menu.Item key=\"model\">\n        <a href=\"/model\">Prediction</a>\n      </Menu.Item>\n    \n    </Menu>\n  )\n}\n\nexport default LeftMenu","import React, { useState } from \"react\";\nimport LeftMenu from \"./Sections/LeftMenu\";\nimport { Drawer, Button} from \"antd\";\nimport \"./Sections/NavBar.css\";\n\nfunction NavBar() {\n  const [visible, setVisible] = useState(false);\n\n  const showDrawer = () => {\n    setVisible(true);\n  };\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  return (\n    <nav\n      className=\"menu\"\n      style={{ position: \"fixed\", zIndex: 5, width: \"100%\" }}\n    >\n      <div className=\"menu__logo\">\n        <a href=\"/\">MRSC</a>\n      </div>\n      <div className=\"menu__container\">\n        <div className=\"menu_left\">\n          <LeftMenu mode=\"horizontal\" />\n        </div>\n        <Button\n          className=\"menu__mobile-button\"\n          type=\"primary\"\n          onClick={showDrawer}\n        >\n          Menu\n        </Button>\n        <Drawer\n          title=\"Guide\"\n          placement=\"right\"\n          className=\"menu_drawer\"\n          closable={false}\n          onClose={onClose}\n          visible={visible}\n        >\n          <LeftMenu mode=\"inline\" />\n          \n        </Drawer>\n      </div>\n    </nav>\n  );\n}\n\nexport default NavBar;","import './App.css';\nimport React, { Suspense } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport HomePage from \"./views/homePage/HomePage\"\nimport ModelPage from \"./views/ModelPage/ModelPage\"\nimport NavBar from \"./views/NavBar/NavBar\"\n\nfunction App() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n    <NavBar />\n    <div style={{ paddingTop: \"75px\", minHeight: \"calc(100vh - 80px)\" }}>\n      <Switch>\n        <Route exact path=\"/\" component={HomePage} />\n        <Route exact path=\"/model\" component={ModelPage} />\n      </Switch>\n    </div>\n    </Suspense>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}